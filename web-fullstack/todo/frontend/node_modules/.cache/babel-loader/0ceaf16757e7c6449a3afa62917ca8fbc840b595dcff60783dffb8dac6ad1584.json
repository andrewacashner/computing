{"ast":null,"code":"// To Do list\n// Andrew Cashner\n// 2024/02/23\n//\n// TODO possibilities\n// (rejected) Only show Deadline input after new task is entered\n// (done) Rearranging entries\n// (done) Button to mark all complete or incomplete\n// (done) Button to clear all\n// (done) Use Date for deadline\n// (done) Put date in span for custom format (e.g. red if past due)\n// (done) Show completed items in separate list (move when completed)\n// (done) Sort by deadline\n// Make sort button inactive when list is already sorted\n// Type new item directly into list instead of form\n// Better layout of entries & dates\n// Editing entries in-list\n// Nested lists\n// Log in and save lists\n// Multiple named lists\nimport\"./App.css\";import{useState}from\"react\";import{ToDoItem,ToDoList}from\"./components/ToDoItem\";import Utilities from\"./components/Utilities\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function makeNewTaskForm(items,setItems){return function(){function addNewTask(event){event.preventDefault();let task=event.target.task.value;let deadline=event.target.deadline.value;if(deadline===\"\"){deadline=null;}if(task){let newTask=new ToDoItem({task:task,deadline:deadline});console.log(\"Add new task '\".concat(newTask.task,\"' with deadline '\").concat(newTask.deadline,\"'\"));setItems([...items,newTask]);}event.target.reset();}return/*#__PURE__*/_jsxs(\"form\",{className:\"newItem\",onSubmit:addNewTask,autoComplete:\"off\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"newTaskInput\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newTask\",children:\"New task:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"task\",id:\"newTask\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"deadlineInput\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newDeadline\",children:\"Deadline (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"deadline\",id:\"newDeadline\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"instructions\",children:[\"Dates in natural language will be converted if possible\",/*#__PURE__*/_jsx(\"br\",{}),\"(Examples: \",/*#__PURE__*/_jsx(\"q\",{children:\"Tomorrow at 1pm,\"}),\" \",/*#__PURE__*/_jsx(\"q\",{children:\"A week from Thursday,\"}),\" \",/*#__PURE__*/_jsx(\"q\",{children:\"3/5 at 7am\"}),\")\"]})]}),/*#__PURE__*/_jsx(\"button\",{action:\"submit\",children:\"Add task\"})]});};}function dragListItem(event){event.dataTransfer.setData(\"text/uuid\",event.target.id);}function isDraggedOverSelf(event){return event.target.id===event.dataTransfer.getData(\"text/uuid\");}function isDraggedOverNext(event,items){let dragged=event.dataTransfer.getData(\"text/uuid\");let current=event.target.id;const getIndex=id=>items.findIndex(i=>i.id===id);return getIndex(current)-getIndex(dragged)===1;}function makeDragoverListItem(items){return function(event){event.preventDefault();if(event.target.tagName===\"LI\"&&!isDraggedOverSelf(event)&&!isDraggedOverNext(event,items)){event.target.classList.add(\"gapAbove\");}};}function dragleaveListItem(event){event.preventDefault();event.target.classList.remove(\"gapAbove\");}function moveWithinArray(items,fromID,toID){console.log(\"Move from item \".concat(fromID,\" to item \").concat(toID));function insertBefore(array,matchFn,item){let insertPoint=array.findIndex(matchFn);let before=array.slice(0,insertPoint);let after=array.slice(insertPoint);return[...before,item,...after];}let itemToMove=items.find(i=>i.id===fromID);let rest=items.filter(i=>i!==itemToMove);let newItems=[];if(toID===\"bottom\"){console.log(\"Move item to bottom\");newItems=[...rest,itemToMove];}else{console.log(\"Insert item\");newItems=insertBefore(rest,i=>i.id===toID,itemToMove);}return newItems;}function makeDropListItem(items,setItems){return function(event){event.preventDefault();if(items.length>1){let fromID=event.dataTransfer.getData(\"text/uuid\");// Check if item was dropped below the list items, in the extra space we\n// leave at bottom of the ol.todo\nlet toID=event.target.className===\"todo\"?\"bottom\":event.target.id;if(fromID!==toID&&!isDraggedOverNext(event,items)){let newItems=moveWithinArray(items,fromID,toID);setItems(newItems);}}};}function makeListItems(items,setItems){function updateItemsWithToggledItem(items,item){return function(){let toggledItem=ToDoItem.toggled(item);console.log(\"Marking item as \".concat(toggledItem.doneStatus));let split=items.indexOf(item);let before=items.slice(0,split);let after=items.slice(split+1);let newItems=[...before,toggledItem,...after];setItems(newItems);};}function ListItem(item){if(item){let toggleDoneStatus=updateItemsWithToggledItem(items,item);let ToDoSpan=item.Span();return/*#__PURE__*/_jsx(\"li\",{id:item.id,className:\"\".concat(item.doneStatus,\" \").concat(item.activeStatus),onClick:toggleDoneStatus,draggable:\"true\",onDragStart:dragListItem,onDragLeave:dragleaveListItem,children:/*#__PURE__*/_jsx(ToDoSpan,{})},item.id);}}let dropListItem=makeDropListItem(items,setItems);let dragoverListItem=makeDragoverListItem(items);let[done,notDone]=Utilities.partition(items,i=>i.isDone);function ItemsDone(){return done.map(ListItem);}function ItemsNotDone(){return notDone.map(ListItem);}return function(){return/*#__PURE__*/_jsxs(\"section\",{id:\"lists\",children:[/*#__PURE__*/_jsx(\"ol\",{className:\"todo\",onDragOver:dragoverListItem,onDrop:dropListItem,children:/*#__PURE__*/_jsx(ItemsNotDone,{})}),/*#__PURE__*/_jsx(\"ol\",{className:\"todoDone\",children:/*#__PURE__*/_jsx(ItemsDone,{})})]});};}function makeCheckAllButton(items,setItems){function setAllItemStatus(isDone){let newItems=items.map(item=>new ToDoItem({...item,isDone:isDone}));setItems(newItems);}const checkAll=()=>setAllItemStatus(true);const uncheckAll=()=>setAllItemStatus(false);let checkAllStatus=items.some(i=>i.isDone===false);let uncheckAllStatus=items.some(i=>i.isDone===true);function clearAll(){setItems([]);}function sortItemsByDate(){setItems(items.toSortedByDate());}return function(){if(items.length>0){return/*#__PURE__*/_jsxs(\"div\",{className:\"todoControls\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:checkAll,className:ToDoItem.activeOrNot(!checkAllStatus),children:\"Mark all as finished\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:uncheckAll,className:ToDoItem.activeOrNot(!uncheckAllStatus),children:\"Mark all as unfinished\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:sortItemsByDate,children:\"Sort by date\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearAll,children:\"Clear all\"})]});}};}function TaskList(){let[items,setItems]=useState(new ToDoList());const updateItems=newItems=>setItems(new ToDoList(...newItems));let ListItems=makeListItems(items,updateItems);let NewTaskForm=makeNewTaskForm(items,updateItems);let CheckAllButton=makeCheckAllButton(items,updateItems);return/*#__PURE__*/_jsxs(\"section\",{id:\"todo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"todoList\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"To Do\"}),/*#__PURE__*/_jsx(\"p\",{className:\"instructions\",children:\"Add a new task using the form below. Drag to rearrange tasks.\"}),/*#__PURE__*/_jsx(ListItems,{}),/*#__PURE__*/_jsx(CheckAllButton,{})]}),/*#__PURE__*/_jsx(NewTaskForm,{})]});}function App(){return/*#__PURE__*/_jsx(TaskList,{});}export default App;","map":{"version":3,"names":["useState","ToDoItem","ToDoList","Utilities","jsx","_jsx","jsxs","_jsxs","makeNewTaskForm","items","setItems","addNewTask","event","preventDefault","task","target","value","deadline","newTask","console","log","concat","reset","className","onSubmit","autoComplete","children","htmlFor","type","name","id","action","dragListItem","dataTransfer","setData","isDraggedOverSelf","getData","isDraggedOverNext","dragged","current","getIndex","findIndex","i","makeDragoverListItem","tagName","classList","add","dragleaveListItem","remove","moveWithinArray","fromID","toID","insertBefore","array","matchFn","item","insertPoint","before","slice","after","itemToMove","find","rest","filter","newItems","makeDropListItem","length","makeListItems","updateItemsWithToggledItem","toggledItem","toggled","doneStatus","split","indexOf","ListItem","toggleDoneStatus","ToDoSpan","Span","activeStatus","onClick","draggable","onDragStart","onDragLeave","dropListItem","dragoverListItem","done","notDone","partition","isDone","ItemsDone","map","ItemsNotDone","onDragOver","onDrop","makeCheckAllButton","setAllItemStatus","checkAll","uncheckAll","checkAllStatus","some","uncheckAllStatus","clearAll","sortItemsByDate","toSortedByDate","activeOrNot","TaskList","updateItems","ListItems","NewTaskForm","CheckAllButton","App"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/todo/src/App.js"],"sourcesContent":["// To Do list\n// Andrew Cashner\n// 2024/02/23\n//\n// TODO possibilities\n// (rejected) Only show Deadline input after new task is entered\n// (done) Rearranging entries\n// (done) Button to mark all complete or incomplete\n// (done) Button to clear all\n// (done) Use Date for deadline\n// (done) Put date in span for custom format (e.g. red if past due)\n// (done) Show completed items in separate list (move when completed)\n// (done) Sort by deadline\n// Make sort button inactive when list is already sorted\n// Type new item directly into list instead of form\n// Better layout of entries & dates\n// Editing entries in-list\n// Nested lists\n// Log in and save lists\n// Multiple named lists\n\nimport \"./App.css\";\nimport { useState } from \"react\";\nimport { ToDoItem, ToDoList } from \"./components/ToDoItem\";\nimport Utilities from \"./components/Utilities\";\n\nfunction makeNewTaskForm(items, setItems) {\n\n  return function() { \n    function addNewTask (event) {\n      event.preventDefault();\n\n      let task = event.target.task.value;\n\n      let deadline = event.target.deadline.value;\n      if (deadline === \"\") {\n        deadline = null;\n      }\n\n      if (task) {\n        let newTask = new ToDoItem({\n          task: task,\n          deadline: deadline\n        });\n        console.log(`Add new task '${newTask.task}' with deadline '${newTask.deadline}'`);\n\n        setItems([...items, newTask]);\n      }\n      event.target.reset();\n    }\n\n    return(\n      <form className=\"newItem\" onSubmit={addNewTask} autoComplete=\"off\">\n        <div className=\"newTaskInput\">\n          <label htmlFor=\"newTask\">New task:</label>\n          <input type=\"text\" name=\"task\" id=\"newTask\" />\n        </div>\n        <div className=\"deadlineInput\">\n          <label htmlFor=\"newDeadline\">Deadline (optional):</label>\n          <input type=\"text\" name=\"deadline\" id=\"newDeadline\" />\n          <p className=\"instructions\">Dates in natural language will be converted if possible<br />\n          (Examples: <q>Tomorrow at 1pm,</q> <q>A week from Thursday,</q> <q>3/5 at 7am</q>)</p>\n        </div>\n        <button action=\"submit\">Add task</button>\n      </form>\n    );\n  }\n}\n\nfunction dragListItem(event) {\n  event.dataTransfer.setData(\"text/uuid\", event.target.id);\n}\n\nfunction isDraggedOverSelf(event) {\n  return event.target.id === event.dataTransfer.getData(\"text/uuid\");\n}\n\nfunction isDraggedOverNext(event, items) {\n  let dragged = event.dataTransfer.getData(\"text/uuid\");\n  let current = event.target.id;\n  const getIndex = id => items.findIndex(i => i.id === id);\n  return getIndex(current) - getIndex(dragged) === 1;\n}\n\nfunction makeDragoverListItem(items) {\n  return function(event) {\n    event.preventDefault();\n    if (event.target.tagName === \"LI\" \n      && !isDraggedOverSelf(event) \n      && !isDraggedOverNext(event, items)) {\n      event.target.classList.add(\"gapAbove\");\n    }\n  }\n}\n\nfunction dragleaveListItem(event) {\n  event.preventDefault();\n  event.target.classList.remove(\"gapAbove\");\n}\n\nfunction moveWithinArray(items, fromID, toID) {\n \n  console.log(`Move from item ${fromID} to item ${toID}`);\n  function insertBefore(array, matchFn, item) {\n    let insertPoint = array.findIndex(matchFn);\n    let before = array.slice(0, insertPoint);\n    let after = array.slice(insertPoint);\n    return [...before, item, ...after];\n  }\n\n  let itemToMove = items.find(i => i.id === fromID);\n  let rest = items.filter(i => i !== itemToMove);\n\n  let newItems = [];\n  if (toID === \"bottom\") {\n    console.log(\"Move item to bottom\");\n    newItems = [...rest, itemToMove];\n  } else {\n    console.log(\"Insert item\");\n    newItems = insertBefore(rest, (i => i.id === toID), itemToMove);\n  }\n  return newItems;\n}\n\nfunction makeDropListItem(items, setItems) {\n  return function(event) {\n    event.preventDefault()\n\n    if (items.length > 1) {\n      let fromID = event.dataTransfer.getData(\"text/uuid\");\n\n      // Check if item was dropped below the list items, in the extra space we\n      // leave at bottom of the ol.todo\n      let toID = (event.target.className === \"todo\") \n                  ? \"bottom\" : event.target.id;\n\n      if (fromID !== toID && !isDraggedOverNext(event, items)) {\n        let newItems = moveWithinArray(items, fromID, toID);\n        setItems(newItems);\n      }\n    }\n  }\n}\n\nfunction makeListItems(items, setItems) {\n\n  function updateItemsWithToggledItem(items, item) {\n    return function() {\n      let toggledItem = ToDoItem.toggled(item);\n      console.log(`Marking item as ${toggledItem.doneStatus}`);\n\n      let split = items.indexOf(item);\n      let before = items.slice(0, split);\n      let after = items.slice(split + 1);\n      let newItems = [...before, toggledItem, ...after]\n      setItems(newItems);\n    }\n  }\n\n  function ListItem(item) {\n    if (item) {\n      let toggleDoneStatus = updateItemsWithToggledItem(items, item);\n      let ToDoSpan = item.Span();\n\n      return (\n        <li key={item.id}\n            id={item.id}\n            className={`${item.doneStatus} ${item.activeStatus}`}\n            onClick={toggleDoneStatus}\n            draggable=\"true\"\n            onDragStart={dragListItem}\n            onDragLeave={dragleaveListItem}>\n          <ToDoSpan />\n        </li>\n      );\n    }\n  }\n\n  let dropListItem = makeDropListItem(items, setItems);\n  let dragoverListItem = makeDragoverListItem(items);\n\n \n  let [done, notDone] = Utilities.partition(items, (i => i.isDone));\n\n  function ItemsDone() {\n    return(done.map(ListItem));\n  }\n\n  function ItemsNotDone() {\n    return(notDone.map(ListItem));\n  }\n\n  return function() {\n    return(\n      <section id=\"lists\">\n        <ol className=\"todo\"\n            onDragOver={dragoverListItem}\n            onDrop={dropListItem}>\n          <ItemsNotDone />\n        </ol>\n        <ol className=\"todoDone\">\n          <ItemsDone />\n        </ol>\n      </section>\n    );\n  }\n}\n\nfunction makeCheckAllButton(items, setItems) {\n\n  function setAllItemStatus(isDone) {\n    let newItems = items.map(item => new ToDoItem({...item, isDone: isDone}));\n    setItems(newItems);\n  }\n\n  const checkAll = () => setAllItemStatus(true);\n  const uncheckAll = () => setAllItemStatus(false);\n \n  let checkAllStatus = items.some(i => i.isDone === false);\n  let uncheckAllStatus = items.some(i => i.isDone === true);\n\n  function clearAll() {\n    setItems([]);\n  }\n\n  function sortItemsByDate() { \n    setItems(items.toSortedByDate());\n  }\n\n\n  return function() {\n    if (items.length > 0) {\n      return(\n        <div className=\"todoControls\">\n          <button type=\"button\" \n                  onClick={checkAll}\n                  className={ToDoItem.activeOrNot(!checkAllStatus)}\n          >Mark all as finished</button>\n          <button type=\"button\" \n                  onClick={uncheckAll}\n                  className={ToDoItem.activeOrNot(!uncheckAllStatus)}\n          >Mark all as unfinished</button>\n          <button type=\"button\" \n                  onClick={sortItemsByDate}\n          >Sort by date</button>\n          <button type=\"button\" onClick={clearAll}>Clear all</button>\n        </div>\n      );\n    }\n  }\n}\n\nfunction TaskList() {\n  let [items, setItems] = useState(new ToDoList());\n  const updateItems = (newItems) => setItems(new ToDoList(...newItems));\n\n  let ListItems = makeListItems(items, updateItems);\n  let NewTaskForm = makeNewTaskForm(items, updateItems);\n  let CheckAllButton = makeCheckAllButton(items, updateItems);\n\n  return(\n    <section id=\"todo\">\n    <div className=\"todoList\">\n    <h1>To Do</h1>\n    <p className=\"instructions\">Add a new task using the form below. Drag to rearrange tasks.</p>\n    <ListItems />\n    <CheckAllButton />\n    </div>\n    <NewTaskForm />\n    </section>\n  );\n}\n\nfunction App() {\n  return(<TaskList />);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}