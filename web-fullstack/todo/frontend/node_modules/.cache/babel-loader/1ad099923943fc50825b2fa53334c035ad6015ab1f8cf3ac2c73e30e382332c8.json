{"ast":null,"code":"'use strict';\n\nvar LocaleHelpers = require('./LocaleHelpers'),\n  FormatTokensBase = require('./FormatTokensBase'),\n  CoreOutputFormats = require('./CoreOutputFormats'),\n  forEach = require('../../common/internal/forEach'),\n  padNumber = require('../../common/internal/padNumber'),\n  spaceSplit = require('../../common/internal/spaceSplit'),\n  namespaceAliases = require('../../common/var/namespaceAliases'),\n  coreUtilityAliases = require('../../common/var/coreUtilityAliases'),\n  createFormatMatcher = require('../../common/internal/createFormatMatcher'),\n  defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar');\nvar localeManager = LocaleHelpers.localeManager,\n  hasOwn = coreUtilityAliases.hasOwn,\n  getOwn = coreUtilityAliases.getOwn,\n  forEachProperty = coreUtilityAliases.forEachProperty,\n  sugarDate = namespaceAliases.sugarDate;\nvar ldmlTokens, strfTokens;\nfunction buildDateFormatTokens() {\n  function addFormats(target, tokens, fn) {\n    if (tokens) {\n      forEach(spaceSplit(tokens), function (token) {\n        target[token] = fn;\n      });\n    }\n  }\n  function buildLowercase(get) {\n    return function (d, localeCode) {\n      return get(d, localeCode).toLowerCase();\n    };\n  }\n  function buildOrdinal(get) {\n    return function (d, localeCode) {\n      var n = get(d, localeCode);\n      return n + localeManager.get(localeCode).getOrdinal(n);\n    };\n  }\n  function buildPadded(get, padding) {\n    return function (d, localeCode) {\n      return padNumber(get(d, localeCode), padding);\n    };\n  }\n  function buildTwoDigits(get) {\n    return function (d, localeCode) {\n      return get(d, localeCode) % 100;\n    };\n  }\n  function buildAlias(alias) {\n    return function (d, localeCode) {\n      return dateFormatMatcher(alias, d, localeCode);\n    };\n  }\n  function buildAlternates(f) {\n    for (var n = 1; n <= 5; n++) {\n      buildAlternate(f, n);\n    }\n  }\n  function buildAlternate(f, n) {\n    var alternate = function (d, localeCode) {\n      return f.get(d, localeCode, n);\n    };\n    addFormats(ldmlTokens, f.ldml + n, alternate);\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken + n] = buildLowercase(alternate);\n    }\n  }\n  function getIdentityFormat(name) {\n    return function (d, localeCode) {\n      var loc = localeManager.get(localeCode);\n      return dateFormatMatcher(loc[name], d, localeCode);\n    };\n  }\n  ldmlTokens = {};\n  strfTokens = {};\n  forEach(FormatTokensBase, function (f) {\n    var get = f.get,\n      getPadded;\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken] = buildLowercase(get);\n    }\n    if (f.ordinalToken) {\n      ldmlTokens[f.ordinalToken] = buildOrdinal(get, f);\n    }\n    if (f.ldmlPaddedToken) {\n      ldmlTokens[f.ldmlPaddedToken] = buildPadded(get, f.ldmlPaddedToken.length);\n    }\n    if (f.ldmlTwoDigitToken) {\n      ldmlTokens[f.ldmlTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfTwoDigitToken) {\n      strfTokens[f.strfTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfPadding) {\n      getPadded = buildPadded(get, f.strfPadding);\n    }\n    if (f.alias) {\n      get = buildAlias(f.alias);\n    }\n    if (f.allowAlternates) {\n      buildAlternates(f);\n    }\n    addFormats(ldmlTokens, f.ldml, get);\n    addFormats(strfTokens, f.strf, getPadded || get);\n  });\n  forEachProperty(CoreOutputFormats, function (src, name) {\n    addFormats(ldmlTokens, name, buildAlias(src));\n  });\n  defineInstanceSimilar(sugarDate, 'short medium long full', function (methods, name) {\n    var fn = getIdentityFormat(name);\n    addFormats(ldmlTokens, name, fn);\n    methods[name] = fn;\n  });\n  addFormats(ldmlTokens, 'time', getIdentityFormat('time'));\n  addFormats(ldmlTokens, 'stamp', getIdentityFormat('stamp'));\n}\nvar dateFormatMatcher;\nfunction buildDateFormatMatcher() {\n  function getLdml(d, token, localeCode) {\n    return getOwn(ldmlTokens, token)(d, localeCode);\n  }\n  function getStrf(d, token, localeCode) {\n    return getOwn(strfTokens, token)(d, localeCode);\n  }\n  function checkDateToken(ldml, strf) {\n    return hasOwn(ldmlTokens, ldml) || hasOwn(strfTokens, strf);\n  }\n\n  // Format matcher for LDML or STRF tokens.\n  dateFormatMatcher = createFormatMatcher(getLdml, getStrf, checkDateToken);\n}\nbuildDateFormatTokens();\nbuildDateFormatMatcher();\nmodule.exports = {\n  ldmlTokens: ldmlTokens,\n  strfTokens: strfTokens,\n  dateFormatMatcher: dateFormatMatcher\n};","map":{"version":3,"names":["LocaleHelpers","require","FormatTokensBase","CoreOutputFormats","forEach","padNumber","spaceSplit","namespaceAliases","coreUtilityAliases","createFormatMatcher","defineInstanceSimilar","localeManager","hasOwn","getOwn","forEachProperty","sugarDate","ldmlTokens","strfTokens","buildDateFormatTokens","addFormats","target","tokens","fn","token","buildLowercase","get","d","localeCode","toLowerCase","buildOrdinal","n","getOrdinal","buildPadded","padding","buildTwoDigits","buildAlias","alias","dateFormatMatcher","buildAlternates","f","buildAlternate","alternate","ldml","lowerToken","getIdentityFormat","name","loc","getPadded","ordinalToken","ldmlPaddedToken","length","ldmlTwoDigitToken","strfTwoDigitToken","strfPadding","allowAlternates","strf","src","methods","buildDateFormatMatcher","getLdml","getStrf","checkDateToken","module","exports"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/todo/node_modules/sugar-date/date/var/formattingTokens.js"],"sourcesContent":["'use strict';\n\nvar LocaleHelpers = require('./LocaleHelpers'),\n    FormatTokensBase = require('./FormatTokensBase'),\n    CoreOutputFormats = require('./CoreOutputFormats'),\n    forEach = require('../../common/internal/forEach'),\n    padNumber = require('../../common/internal/padNumber'),\n    spaceSplit = require('../../common/internal/spaceSplit'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    coreUtilityAliases = require('../../common/var/coreUtilityAliases'),\n    createFormatMatcher = require('../../common/internal/createFormatMatcher'),\n    defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar');\n\nvar localeManager = LocaleHelpers.localeManager,\n    hasOwn = coreUtilityAliases.hasOwn,\n    getOwn = coreUtilityAliases.getOwn,\n    forEachProperty = coreUtilityAliases.forEachProperty,\n    sugarDate = namespaceAliases.sugarDate;\n\nvar ldmlTokens, strfTokens;\n\nfunction buildDateFormatTokens() {\n\n  function addFormats(target, tokens, fn) {\n    if (tokens) {\n      forEach(spaceSplit(tokens), function(token) {\n        target[token] = fn;\n      });\n    }\n  }\n\n  function buildLowercase(get) {\n    return function(d, localeCode) {\n      return get(d, localeCode).toLowerCase();\n    };\n  }\n\n  function buildOrdinal(get) {\n    return function(d, localeCode) {\n      var n = get(d, localeCode);\n      return n + localeManager.get(localeCode).getOrdinal(n);\n    };\n  }\n\n  function buildPadded(get, padding) {\n    return function(d, localeCode) {\n      return padNumber(get(d, localeCode), padding);\n    };\n  }\n\n  function buildTwoDigits(get) {\n    return function(d, localeCode) {\n      return get(d, localeCode) % 100;\n    };\n  }\n\n  function buildAlias(alias) {\n    return function(d, localeCode) {\n      return dateFormatMatcher(alias, d, localeCode);\n    };\n  }\n\n  function buildAlternates(f) {\n    for (var n = 1; n <= 5; n++) {\n      buildAlternate(f, n);\n    }\n  }\n\n  function buildAlternate(f, n) {\n    var alternate = function(d, localeCode) {\n      return f.get(d, localeCode, n);\n    };\n    addFormats(ldmlTokens, f.ldml + n, alternate);\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken + n] = buildLowercase(alternate);\n    }\n  }\n\n  function getIdentityFormat(name) {\n    return function(d, localeCode) {\n      var loc = localeManager.get(localeCode);\n      return dateFormatMatcher(loc[name], d, localeCode);\n    };\n  }\n\n  ldmlTokens = {};\n  strfTokens = {};\n\n  forEach(FormatTokensBase, function(f) {\n    var get = f.get, getPadded;\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken] = buildLowercase(get);\n    }\n    if (f.ordinalToken) {\n      ldmlTokens[f.ordinalToken] = buildOrdinal(get, f);\n    }\n    if (f.ldmlPaddedToken) {\n      ldmlTokens[f.ldmlPaddedToken] = buildPadded(get, f.ldmlPaddedToken.length);\n    }\n    if (f.ldmlTwoDigitToken) {\n      ldmlTokens[f.ldmlTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfTwoDigitToken) {\n      strfTokens[f.strfTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfPadding) {\n      getPadded = buildPadded(get, f.strfPadding);\n    }\n    if (f.alias) {\n      get = buildAlias(f.alias);\n    }\n    if (f.allowAlternates) {\n      buildAlternates(f);\n    }\n    addFormats(ldmlTokens, f.ldml, get);\n    addFormats(strfTokens, f.strf, getPadded || get);\n  });\n\n  forEachProperty(CoreOutputFormats, function(src, name) {\n    addFormats(ldmlTokens, name, buildAlias(src));\n  });\n\n  defineInstanceSimilar(sugarDate, 'short medium long full', function(methods, name) {\n    var fn = getIdentityFormat(name);\n    addFormats(ldmlTokens, name, fn);\n    methods[name] = fn;\n  });\n\n  addFormats(ldmlTokens, 'time', getIdentityFormat('time'));\n  addFormats(ldmlTokens, 'stamp', getIdentityFormat('stamp'));\n}\n\nvar dateFormatMatcher;\n\nfunction buildDateFormatMatcher() {\n\n  function getLdml(d, token, localeCode) {\n    return getOwn(ldmlTokens, token)(d, localeCode);\n  }\n\n  function getStrf(d, token, localeCode) {\n    return getOwn(strfTokens, token)(d, localeCode);\n  }\n\n  function checkDateToken(ldml, strf) {\n    return hasOwn(ldmlTokens, ldml) || hasOwn(strfTokens, strf);\n  }\n\n  // Format matcher for LDML or STRF tokens.\n  dateFormatMatcher = createFormatMatcher(getLdml, getStrf, checkDateToken);\n}\n\nbuildDateFormatTokens();\n\nbuildDateFormatMatcher();\n\nmodule.exports = {\n  ldmlTokens: ldmlTokens,\n  strfTokens: strfTokens,\n  dateFormatMatcher: dateFormatMatcher\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}